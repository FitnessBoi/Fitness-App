<script>
    const questions = [
        {
            text: "How old are you?",
            answers: ["16-24", "25-34", "35-49", "55+"],
            correct: ["16-24", "25-34", "35-49", "55+"]
        },
        {
            text: "What is your sex?",
            answers: ["Male", "Female", "Other", "Prefer not to say"],
            correct: ["Male", "Female"]
        },
        // Add more questions as needed
    ];

    let currentQuestion = 0;
    let heartsLost = 0;

    function startQuiz() {
        document.querySelector('.start-screen').style.display = 'none';
        document.querySelector('.quiz-container').style.display = 'block';
        loadQuestion();
    }

    function loadQuestion() {
        const questionText = document.querySelector('.question');
        const questionNumber = document.querySelector('.question-number');
        const answerButtons = document.querySelectorAll('.answer');

        if (currentQuestion < questions.length) {
            const current = questions[currentQuestion];
            questionNumber.textContent = `${currentQuestion + 1}/${questions.length}`;
            questionText.textContent = current.text;

            answerButtons.forEach((button, index) => {
                button.textContent = current.answers[index];
                button.onclick = () => handleAnswer(button.textContent);
            });
        } else {
            endQuiz();
        }
    }

    function handleAnswer(selectedAnswer) {
        const current = questions[currentQuestion];

        if (!current.correct.includes(selectedAnswer)) {
            heartsLost++;
            updateHearts();
        }

        currentQuestion++;
        loadQuestion();
    }

    function updateHearts() {
        const hearts = document.querySelectorAll('.heart');
        if (heartsLost <= hearts.length) {
            hearts[heartsLost - 1].classList.add('lost');
        }

        if (heartsLost >= hearts.length) {
            endQuiz(true);
        }
    }

    function endQuiz(isLoser = false) {
        document.querySelector('.quiz-container').style.display = 'none';
        if (isLoser) {
            document.querySelector('.loser-screen').style.display = 'flex';
            document.getElementById('loser').play();
        } else {
            // Handle winner or completion logic
            alert("Quiz completed!");
        }
    }

    document.querySelector('.start-button').onclick = startQuiz;
</script>
